<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI å¯¹è¯æ¡†</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- ä¸»é¡µé¢å¸ƒå±€ -->
    <div class="main-container">
        <!-- å·¦ä¾§èœå• -->
        <div class="sidebar">
            <div class="menu-header">
                <h2>AI åŠ©æ‰‹</h2>
                <button id="toggle-sidebar" class="toggle-sidebar-btn">â—€</button>
            </div>
            <ul class="menu-list">
                <li class="menu-item active" data-page="chat">
                    <span>ğŸ’¬</span>
                    <span>æ–°å¯¹è¯</span>
                </li>
                <li class="menu-item" data-page="settings">
                    <span>âš™ï¸</span>
                    <span>è®¾ç½®</span>
                </li>
            </ul>
        </div>

        <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <!-- æ–°å¯¹è¯é¡µé¢ -->
            <div id="chat-page" class="page active">
                <!-- å¯¹è¯æ¡†è§¦å‘æŒ‰é’® -->
                <div id="chat-trigger" class="chat-trigger">
                    <span>ğŸ¤–</span>
                </div>

                <!-- å¯¹è¯æ¡† -->
                <div id="chat-container" class="chat-container hidden">
                    <div class="chat-header">
                        <span>AI å¯¹è¯</span>
                        <div class="chat-controls">
                            <label class="switch">
                                <input type="checkbox" id="output-toggle">
                                <span class="slider"></span>
                            </label>
                            <span class="toggle-label">å›¾è¡¨è¾“å‡º</span>
                            <button id="clear-chat" class="clear-btn">æ¸…é™¤</button>
                            <button id="close-chat" class="close-btn">&times;</button>
                        </div>
                    </div>
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input-container">
                        <input type="text" id="user-input" placeholder="è¾“å…¥æ¶ˆæ¯...">
                        <button id="send-btn">å‘é€</button>
                    </div>
                    <!-- é¢„è®¾é—®é¢˜ -->
                    <div class="preset-questions">
                        <button class="preset-btn" data-question="è¾“å‡ºä¸­å›½è¿‘åå¹´çš„GPDå¢é•¿æƒ…å†µ">è¾“å‡ºä¸­å›½è¿‘åå¹´çš„GDPå¢é•¿æƒ…å†µ</button>
                        <button class="preset-btn" data-question="è¯·å±•ç¤ºä¸€ä¸ªé”€å”®æ•°æ®è¡¨æ ¼">è¯·å±•ç¤ºä¸€ä¸ªé”€å”®æ•°æ®è¡¨æ ¼</button>
                    </div>

                <!-- å›¾è¡¨è¾“å‡ºåŒºåŸŸ -->
                <div id="page-output" class="page-output hidden">
                    <div class="output-header">
                        <h2>å›¾è¡¨è¾“å‡º</h2>
                    </div>
                    <div id="output-messages" class="output-messages"></div>
                </div>
            </div>

            <!-- è®¾ç½®é¡µé¢å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            <div id="settings-page" class="page">
                <div class="page-content">
                    <!-- è®¾ç½®å†…å®¹å°†é€šè¿‡JavaScriptåŠ è½½ -->
                </div>
            </div>

            
        </div>
    </div>

    <!-- åœ¨é¡µé¢åŠ è½½ååˆå§‹åŒ–é»˜è®¤æ˜¾ç¤ºçš„é¡µé¢ -->
    <script src="scripts/marked.min.js"></script>
    <script src="scripts/chart.js"></script>
    <script>
        // é»˜è®¤æ˜¾ç¤ºæ–°å¯¹è¯é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // é»˜è®¤æ¿€æ´»ç¬¬ä¸€ä¸ªèœå•é¡¹å’Œé¡µé¢
            const firstMenuItem = document.querySelector('.menu-item[data-page="chat"]');
            const chatPage = document.getElementById('chat-page');
            
            if (firstMenuItem) {
                firstMenuItem.classList.add('active');
            }
            
            if (chatPage) {
                chatPage.classList.add('active');
                
                // ç¡®ä¿å¯¹è¯æ¡†ä¸ä¼šè¢«èœå•æŒ¡ä½
                const chatContainer = document.getElementById('chat-container');
                const pageOutput = document.getElementById('page-output');
                
                if (chatContainer) {
                    // æ·»åŠ æ ·å¼ä»¥ç¡®ä¿å¯¹è¯æ¡†ä¸ä¼šè¢«èœå•æŒ¡ä½
                    const style = document.createElement('style');
                    style.textContent = `
                        .chat-container {
                            right: 20px !important;
                        }
                        
                        .page-output {
                            right: 440px !important; /* ä¸ºå¯¹è¯æ¡†ç•™å‡ºç©ºé—´ */
                        }
                    `;
                    document.head.appendChild(style);
                    
                    // ç¡®ä¿å¯¹è¯æ¡†æ˜¯å¯è§çš„
                    chatContainer.classList.remove('hidden');
                }
            }
            
            // åˆå§‹åŒ–è®¾ç½®é¡µé¢åŠŸèƒ½ï¼ˆå¦‚æœåœ¨è®¾ç½®é¡µé¢ï¼‰
            initializeSettingsPageFunctions();
        });
    </script>
    <script src="scripts/script.js"></script>
</body>
</html>