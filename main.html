<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ•°æ®é€è§†åŠ©æ‰‹</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- ä¸»é¡µé¢å¸ƒå±€ -->
    <div class="main-container">
        <!-- å·¦ä¾§èœå• -->
        <div class="sidebar">
            <div class="menu-header">
                <h2>AIæ•°æ®é€è§†åŠ©æ‰‹</h2>
                <button id="toggle-sidebar" class="toggle-sidebar-btn">â—€</button>
            </div>
            <ul class="menu-list">
                <li class="menu-item active" data-page="chat">
                    <span>ğŸ’¬</span>
                    <span>æ–°å¯¹è¯</span>
                </li>
                <li class="menu-item" data-page="config">
                    <span>âš™ï¸</span>
                    <span>é…ç½®</span>
                </li>
            </ul>
        </div>

        <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <!-- æ–°å¯¹è¯é¡µé¢ -->
            <div id="chat-page" class="page active">
                <!-- å¯¹è¯æ¡†è§¦å‘æŒ‰é’® -->
                <div id="chat-trigger" class="chat-trigger">
                    <span>ğŸ¤–</span>
                </div>

                <!-- å¯¹è¯æ¡† -->
                <div id="chat-container" class="chat-container hidden">
                    <div class="chat-header">
                        <span>AI å¯¹è¯</span>
                        <div class="chat-controls">
                            <label class="switch">
                                <input type="checkbox" id="output-toggle">
                                <span class="slider"></span>
                            </label>
                            <span class="toggle-label">å›¾è¡¨è¾“å‡º</span>
                            <button id="clear-chat" class="clear-btn">æ¸…é™¤</button>
                            <button id="close-chat" class="close-btn">&times;</button>
                        </div>
                    </div>
                    <div id="chat-messages" class="chat-messages"></div>
                    <!-- é¢„è®¾é—®é¢˜ -->
                    <div class="preset-questions">
                        <button class="preset-btn" data-question="ä¸­å›½è¿‘åå¹´çš„GPDå¢é•¿æƒ…å†µ">ä¸­å›½è¿‘åå¹´çš„GDPå¢é•¿æƒ…å†µ</button>
                        <button class="preset-btn" data-question="å±•ç¤ºä¸€ä¸ªé”€å”®æ•°æ®è¡¨æ ¼">å±•ç¤ºä¸€ä¸ªé”€å”®æ•°æ®è¡¨æ ¼</button>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="user-input" placeholder="è¾“å…¥æ¶ˆæ¯...">
                        <button id="send-btn">å‘é€</button>
                    </div>
                    
                    <!-- æ–‡ä»¶ä¸Šä¼  -->
                    <div class="file-upload-container">
                        <label for="file-upload" class="file-upload-label">
                            ğŸ“
                        </label>
                        <input type="file" id="file-upload" class="file-upload-input" accept=".txt,.csv,.xlsx,.docx">
                        <div class="file-name-container">
                            <span id="file-name" class="file-name">æœªé€‰æ‹©æ–‡ä»¶</span>
                            <button id="clear-file" class="clear-file-btn" title="æ¸…é™¤æ–‡ä»¶">âœ•</button>
                        </div>
                    </div>
                </div>

                <!-- å›¾è¡¨è¾“å‡ºåŒºåŸŸ -->
                <div id="page-output" class="page-output hidden">
                    <div class="output-header">
                        <h2>å›¾è¡¨è¾“å‡º</h2>
                    </div>
                    <div id="output-messages" class="output-messages"></div>
                </div>
            </div>

            <!-- é…ç½®é¡µé¢ -->
            <div id="config-page" class="page">
                <div class="config-container">
                    <h2>AI æ¨¡å‹é…ç½®</h2>
                    <div class="config-form">
                        <div class="config-group">
                            <label for="base-url">åŸºç¡€ URL:</label>
                            <input type="text" id="base-url" placeholder="è¯·è¾“å…¥åŸºç¡€ URL" value="https://dashscope.aliyuncs.com/compatible-mode/v1">
                        </div>
                        
                        <div class="config-group">
                            <label for="api-key">API å¯†é’¥:</label>
                            <div class="input-with-button">
                                <input type="password" id="api-key" placeholder="è¯·è¾“å…¥ API å¯†é’¥">
                                <button type="button" id="toggle-api-key" class="toggle-password-btn">ğŸ‘ï¸</button>
                            </div>
                        </div>
                        
                        <div class="config-group">
                            <label for="model-name">æ¨¡å‹åç§°:</label>
                            <input type="text" id="model-name" placeholder="è¯·è¾“å…¥æ¨¡å‹åç§°" value="qwen-max">
                        </div>
                        
                        <div class="config-group">
                            <label for="temperature">æ¸©åº¦ (Temperature):</label>
                            <input type="range" id="temperature" min="0" max="1" step="0.01" value="0.7">
                            <span id="temperature-value">0.7</span>
                        </div>
                        
                        <div class="config-group">
                            <label for="max-tokens">æœ€å¤§ Token æ•°:</label>
                            <input type="number" id="max-tokens" min="1" max="32768" value="8196">
                        </div>
                        
                        <div class="config-group">
                            <label for="top-p">Top P:</label>
                            <input type="range" id="top-p" min="0" max="1" step="0.01" value="0.9">
                            <span id="top-p-value">0.9</span>
                        </div>
                        
                        <div class="config-group">
                            <label for="frequency-penalty">é¢‘ç‡æƒ©ç½š (Frequency Penalty):</label>
                            <input type="range" id="frequency-penalty" min="0" max="2" step="0.01" value="0.5">
                            <span id="frequency-penalty-value">0.5</span>
                        </div>
                        
                        <div class="config-actions">
                            <button id="save-config" class="save-btn">ä¿å­˜é…ç½®</button>
                            <button id="reset-config" class="reset-btn">é‡ç½®ä¸ºé»˜è®¤å€¼</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            

            
        </div>
    </div>

    <!-- åœ¨é¡µé¢åŠ è½½ååˆå§‹åŒ–é»˜è®¤æ˜¾ç¤ºçš„é¡µé¢ -->
    <script src="scripts/marked.min.js"></script>
    <script src="scripts/chart.js"></script>
    <script>
        // é»˜è®¤æ˜¾ç¤ºæ–°å¯¹è¯é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // é»˜è®¤æ¿€æ´»ç¬¬ä¸€ä¸ªèœå•é¡¹å’Œé¡µé¢
            const firstMenuItem = document.querySelector('.menu-item[data-page="chat"]');
            const chatPage = document.getElementById('chat-page');
            
            if (firstMenuItem) {
                firstMenuItem.classList.add('active');
            }
            
            if (chatPage) {
                chatPage.classList.add('active');
                
                // ç¡®ä¿å¯¹è¯æ¡†ä¸ä¼šè¢«èœå•æŒ¡ä½
                const chatContainer = document.getElementById('chat-container');
                const pageOutput = document.getElementById('page-output');
                
                if (chatContainer) {
                    // æ·»åŠ æ ·å¼ä»¥ç¡®ä¿å¯¹è¯æ¡†ä¸ä¼šè¢«èœå•æŒ¡ä½
                    const style = document.createElement('style');
                    style.textContent = `
                        .chat-container {
                            right: 20px !important;
                        }
                        
                        .page-output {
                            right: 440px !important; /* ä¸ºå¯¹è¯æ¡†ç•™å‡ºç©ºé—´ */
                        }
                    `;
                    document.head.appendChild(style);
                    
                    // ç¡®ä¿å¯¹è¯æ¡†æ˜¯å¯è§çš„
                    chatContainer.classList.remove('hidden');
                }
            }
            
            
        });
    </script>
    <script src="scripts/script.js"></script>
</body>
</html>
